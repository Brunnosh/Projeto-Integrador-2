<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/FRONTEND/src/assets/css/reservarassento.css">
    <title>Mapa de Assentos</title>
</head>
<body>
    <div id="seat-map"></div>
    <script>
        const totalSeatsFromDatabase = 135; // Substitua isso com a quantidade real de assentos do banco de dados
        const seatsPerRowFromDatabase = 6; // Substitua isso com a quantidade real de assentos por linha do banco de dados
        const seatsBeforeCorridorFromDatabase = 3; // Substitua isso com a quantidade desejada de assentos antes do corredor

        const seatMap = document.getElementById('seat-map');

        function createSeat(id) {
            const seatElement = document.createElement('div');
            seatElement.className = 'seat';
            seatElement.innerText = id;

            seatElement.addEventListener('click', () => {
                seatElement.classList.toggle('selected');
            });

            return seatElement;
        }

        function createCorridor() {
            const corridorElement = document.createElement('div');
            corridorElement.className = 'corridor';
            return corridorElement;
        }

        function initSeatMap() {
            const seatsPerRow = seatsPerRowFromDatabase || 1; // Padrão para 1 assento por linha se não houver valor no banco de dados
            const seatsBeforeCorridor = seatsBeforeCorridorFromDatabase || 0; // Padrão para nenhum assento antes do corredor

            for (let i = 1; i <= totalSeatsFromDatabase; i++) {
                const seatElement = createSeat(i);
                seatMap.appendChild(seatElement);

                if (i % seatsPerRow === seatsBeforeCorridor) {
                    const corridorElement = createCorridor();
                    seatMap.appendChild(corridorElement);
                }
            }

            // Ajusta o grid-template-columns para garantir o número correto de assentos por linha
            seatMap.style.gridTemplateColumns = `repeat(${seatsPerRow + 1}, 1fr)`; // +1 para acomodar o corredor
        }

        initSeatMap();
    </script>
</body>
</html>
